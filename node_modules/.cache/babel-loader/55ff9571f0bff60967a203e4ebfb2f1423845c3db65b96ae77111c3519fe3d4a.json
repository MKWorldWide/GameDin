{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sunny\\\\Saved Games\\\\Web Application\\\\frontend\\\\src\\\\components\\\\CreatePost.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Card, CardContent, TextField, Button, Box, IconButton } from '@mui/material';\nimport { PhotoCamera } from '@mui/icons-material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CreatePost({\n  onPostCreated\n}) {\n  _s();\n  const [content, setContent] = useState('');\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!content.trim() && files.length === 0) return;\n    setUploading(true);\n    const formData = new FormData();\n    formData.append('content', content);\n    files.forEach(file => {\n      formData.append('media', file);\n    });\n    try {\n      await axios.post('http://localhost:5000/api/posts', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setContent('');\n      setFiles([]);\n      onPostCreated();\n    } catch (error) {\n      console.error('Error creating post:', error);\n    } finally {\n      setUploading(false);\n    }\n  };\n  const handleFileChange = e => {\n    const selectedFiles = Array.from(e.target.files);\n    setFiles(selectedFiles);\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      mb: 3\n    },\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          multiline: true,\n          rows: 3,\n          placeholder: \"What's on your mind?\",\n          value: content,\n          onChange: e => setContent(e.target.value),\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            color: \"primary\",\n            component: \"label\",\n            disabled: uploading,\n            children: [/*#__PURE__*/_jsxDEV(PhotoCamera, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              hidden: true,\n              multiple: true,\n              accept: \"image/*,video/*\",\n              onChange: handleFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            type: \"submit\",\n            disabled: !content.trim() && files.length === 0 || uploading,\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), files.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2\n          },\n          children: files.map((file, index) => /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 1\n            },\n            children: file.name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(CreatePost, \"Q27YK0YKCWork9aieb6S54WyX5A=\");\n_c = CreatePost;\nexport default CreatePost;\nvar _c;\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"names":["React","useState","Card","CardContent","TextField","Button","Box","IconButton","PhotoCamera","axios","jsxDEV","_jsxDEV","CreatePost","onPostCreated","_s","content","setContent","files","setFiles","uploading","setUploading","handleSubmit","e","preventDefault","trim","length","formData","FormData","append","forEach","file","post","headers","error","console","handleFileChange","selectedFiles","Array","from","target","sx","mb","children","onSubmit","fullWidth","multiline","rows","placeholder","value","onChange","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","color","component","disabled","type","hidden","multiple","accept","variant","mt","map","index","name","_c","$RefreshReg$"],"sources":["C:/Users/sunny/Saved Games/Web Application/frontend/src/components/CreatePost.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Card,\n  CardContent,\n  TextField,\n  Button,\n  Box,\n  IconButton,\n} from '@mui/material';\nimport { PhotoCamera } from '@mui/icons-material';\nimport axios from 'axios';\n\nfunction CreatePost({ onPostCreated }) {\n  const [content, setContent] = useState('');\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!content.trim() && files.length === 0) return;\n\n    setUploading(true);\n    const formData = new FormData();\n    formData.append('content', content);\n    files.forEach((file) => {\n      formData.append('media', file);\n    });\n\n    try {\n      await axios.post('http://localhost:5000/api/posts', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      setContent('');\n      setFiles([]);\n      onPostCreated();\n    } catch (error) {\n      console.error('Error creating post:', error);\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleFileChange = (e) => {\n    const selectedFiles = Array.from(e.target.files);\n    setFiles(selectedFiles);\n  };\n\n  return (\n    <Card sx={{ mb: 3 }}>\n      <CardContent>\n        <form onSubmit={handleSubmit}>\n          <TextField\n            fullWidth\n            multiline\n            rows={3}\n            placeholder=\"What's on your mind?\"\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n            sx={{ mb: 2 }}\n          />\n          <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n            <IconButton\n              color=\"primary\"\n              component=\"label\"\n              disabled={uploading}\n            >\n              <PhotoCamera />\n              <input\n                type=\"file\"\n                hidden\n                multiple\n                accept=\"image/*,video/*\"\n                onChange={handleFileChange}\n              />\n            </IconButton>\n            <Button\n              variant=\"contained\"\n              type=\"submit\"\n              disabled={(!content.trim() && files.length === 0) || uploading}\n            >\n              Post\n            </Button>\n          </Box>\n          {files.length > 0 && (\n            <Box sx={{ mt: 2 }}>\n              {files.map((file, index) => (\n                <Box key={index} sx={{ mb: 1 }}>\n                  {file.name}\n                </Box>\n              ))}\n            </Box>\n          )}\n        </form>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default CreatePost;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}